# Profiling

projectnameforgin='jcodec'; java -Dtinylog.level=trace -cp ../../build/gin.jar gin.util.Profiler -r 1 -mavenHome /usr/share/maven -n 20 -p $projectnameforgin -d . -o $projectnameforgin.Profiler_output.csv

# Empty patch tester, serve as baseline
projectnameforgin='jcodec'; java -Dtinylog.level=trace -cp ../../build/gin.jar gin.util.EmptyPatchTester -J -p $projectnameforgin -d . -m $projectnameforgin.Profiler_output.csv -o $projectnameforgin.EmptyPatchTester_output.csv  -mavenHome /usr/share/maven

#Run Random Search Sampler
projectnameforgin='jcodec'; editType='STATEMENT'; patchSize='1'; patchNumber='100'; java -Dtinylog.level=trace -cp ../../build/gin.jar gin.util.RandomSampler -j -p $projectnameforgin -d . -m $projectnameforgin.Profiler_output.csv -o $projectnameforgin.RandomSampler_${editType}_patchSize${patchSize}_patchNumber${patchNumber}_output.csv -mavenHome /usr/share/maven -editType $editType -patchNumber $patchNumber -patchSize $patchSize

#LLM patch tester
# GPT
projectnameforgin='jcodec'; java -Dtinylog.level=trace -cp ../../build/gin.jar gin.util.RandomSampler -j -p $projectnameforgin -d . -m $projectnameforgin.Profiler_output.csv -o $projectnameforgin.RandomSampler_LLM_MEDIUM_1000_output.csv -mavenHome /usr/share/maven -timeoutMS 10000 -et gin.edit.llm.LLMReplaceStatement -pt MEDIUM -pn 1000 &> $projectnameforgin.RandomSampler_LLM_MEDIUM_1000_stderrstdout.txt


# llama3
projectnameforgin='jcodec'; model=llama3; java -Dtinylog.level=trace -cp ../../build/gin.jar gin.util.RandomSampler -j -p $projectnameforgin -d . -m $projectnameforgin.Profiler_output.csv -o $projectnameforgin.RandomSampler_LLM_MEDIUM_1000_output.csv -mavenHome /usr/share/maven -timeoutMS 10000 -et gin.edit.llm.LLMReplaceStatement -mt $model -pt MEDIUM -pn 1000 &> $projectnameforgin.RandomSampler_LLM_MEDIUM_1000_stderrstdout_.$model.txt


#Mistral
projectnameforgin='jcodec'; java -Dtinylog.level=trace -cp ../../build/gin.jar gin.util.RandomSampler -j -p $projectnameforgin -d . -m $projectnameforgin.Profiler_output.csv -o $projectnameforgin.RandomSampler_LLM_MEDIUM_1000_output.csv -mavenHome /usr/share/maven -timeoutMS 10000 -et gin.edit.llm.LLMReplaceStatement -mt mistral -pt MEDIUM -pn 1000 &> $projectnameforgin.RandomSampler_LLM_MEDIUM_1000_stderrstdout.txt


# gemma
projectnameforgin='jcodec'; model='gemma'; java -Dtinylog.level=trace -cp ../../build/gin.jar gin.util.RandomSampler -j -p $projectnameforgin -d . -m $projectnameforgin.Profiler_output.csv -o $projectnameforgin.RandomSampler_LLM_MEDIUM_1000_output.csv -mavenHome /usr/share/maven -timeoutMS 10000 -et gin.edit.llm.LLMReplaceStatement -mt $model -pt MEDIUM -pn 1000 &> $projectnameforgin.RandomSampler_LLM_MEDIUM_1000_stderrstdout_.$model.txt



java -jar build/gin.jar -f examples/triangle/Triangle.java -m "classifyTriangle(int,int,int)" -et gin.edit.llm.LLMReplaceStatement -pt MEDIUM -pn 1000 &> $projectnameforgin.RandomSampler_LLM_MEDIUM_1000_stderrstdout_.$model.txt



# run masked prompt with Mistral
projectnameforgin='jcodec'; java -Dtinylog.level=trace -cp ../../build/gin.jar gin.util.RandomSampler -j -p $projectnameforgin -d . -m $projectnameforgin.Profiler_output.csv -o $projectnameforgin.RandomSampler_LLM_MEDIUM_1000_output.csv -mavenHome /usr/share/maven -timeoutMS 10000 -et gin.edit.llm.LLMMaskedStatement -mt mistral -pt MEDIUM -pn 1000 &> $projectnameforgin.RandomSampler_LLM_MEDIUM_1000_stderrstdout.txt
